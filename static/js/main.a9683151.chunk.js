(this["webpackJsonpv12-geckos-team-01"]=this["webpackJsonpv12-geckos-team-01"]||[]).push([[0],{234:function(e,t,a){e.exports=a(441)},244:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(16),s=a.n(l),c=a(22),i=a(51),u=a(191),o=a(192),m=a(52);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e){localStorage.setItem("tasks",JSON.stringify(e))},p=JSON.parse(localStorage.getItem("tasks"))||[],k=p.length?Math.max.apply(Math,Object(m.a)(p.map((function(e){return e.id})))):0,g={taskList:p,availableId:k+1},v=Object(i.combineReducers)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=e.availableId;switch(t.type){case"ADD_TASK":var n=t.payload;return f([].concat(Object(m.a)(e.taskList),[n])),E({},e,{availableId:a+1,taskList:[].concat(Object(m.a)(e.taskList),[n])});case"REMOVE_TASK":return localStorage.setItem("tasks",JSON.stringify(e.taskList.filter((function(e){return e.id!==t.payload})))),E({},e,{taskList:e.taskList.filter((function(e){return e.id!==t.payload}))});case"DELETE_ALL_TASKS":return f([]),E({},e,{taskList:[]});case"START_TASK":var r=e.taskList,l=r.map((function(e){if(e.id===t.payload&&!e.running){var a=e.timerStatusArray,n={status:"started",when:new Date};return E({},e,{running:!0,completed:!1,timerStatusArray:[].concat(Object(m.a)(a),[n]),dateStarted:e.dateStarted||new Date})}return e}));return f(l),E({},e,{taskList:l});case"PAUSE_TASK":var s=new Date,c=e.taskList.map((function(e){return e.id===t.payload&&e.running?E({},e,{timerStatusArray:[].concat(Object(m.a)(e.timerStatusArray),[{status:"paused",when:s}]),running:!1}):e}));return f(c),E({},e,{taskList:c});case"COMPLETE_TASK":var i=new Date,u=e.taskList.map((function(e){return e.id===t.payload?E({},e,{completed:!0,timerStatusArray:[].concat(Object(m.a)(e.timerStatusArray),[{status:"paused",when:i}]),running:!1}):e}));return E({},e,{taskList:u});default:return e}}}),y=Object(i.createStore)(v,{},Object(u.composeWithDevTools)()),T=(a(243),a(244),a(42)),b=a(18),h=a(23),S=a(43),O=a(44),j=function(e){var t=e.children;return r.a.createElement("div",null,t)},A=a(79),w=a(67),D=function(){return r.a.createElement(A.a,{variant:"dark",bg:"primary",expand:"lg"},r.a.createElement(A.a.Brand,null,"Time Tracker"),r.a.createElement(A.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(A.a.Collapse,null,r.a.createElement(w.a,null,r.a.createElement(S.b,{to:"/",className:"no-decoration"},r.a.createElement(w.a.Link,{href:"/"},"Create A Task")),r.a.createElement(S.b,{to:"/mytasks",className:"no-decoration"},r.a.createElement(w.a.Link,{href:"/mytasks"},"My Tasks")),r.a.createElement(S.b,{to:"/settings"},r.a.createElement(w.a.Link,{href:"/settings"},"Settings")),r.a.createElement(S.b,{to:"/reports"},r.a.createElement(w.a.Link,{href:"/reports"},"Reports")))))},N=a(19),L=a(48),x=a(34),C=a(76),I=Object(c.b)((function(e){return{nextId:e.tasks.availableId}}),{addTask:function(e){return{payload:e,type:"ADD_TASK"}}})((function(e){var t=e.addTask,a=e.nextId,l=Object(n.useState)(!1),s=Object(N.a)(l,2),c=s[0],i=s[1],u=Object(n.useState)(""),o=Object(N.a)(u,2),m=o[0],d=o[1],E=Object(n.useState)(""),f=Object(N.a)(E,2),p=f[0],k=f[1],g=Object(n.useState)({type:"",message:""}),v=Object(N.a)(g,2),y=v[0],S=v[1],O=function(){d(""),k("")};return r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(b.a,null,r.a.createElement(h.a,{xs:{span:12}},r.a.createElement("h1",{className:"display-4"},"Create A New Task"))),r.a.createElement(L.a,null,r.a.createElement(b.a,null,r.a.createElement(h.a,{xs:{span:12}},r.a.createElement(L.a.Group,null,r.a.createElement(L.a.Label,null,"Task Name"),r.a.createElement(L.a.Control,{type:"text",placeholder:"Enter a name for your task",value:m,onChange:function(e){return d(e.target.value)}})))),r.a.createElement(b.a,null,r.a.createElement(h.a,{xs:{span:12}},r.a.createElement(L.a.Group,null,r.a.createElement(L.a.Label,null,"Task Group"),r.a.createElement(L.a.Control,{type:"text",placeholder:"Enter a group for your task (optional)",value:p,onChange:function(e){return k(e.target.value)}})))),r.a.createElement(b.a,null,r.a.createElement(h.a,{xs:{span:6}},r.a.createElement(x.a,{variant:"primary",onClick:function(){if(""===m)S({type:"danger",message:"You must enter a task name."}),i(!0);else{var e={id:a,taskName:m,dateStarted:new Date,timerStatusArray:[],running:!1,dateCompleted:null,completed:!1,group:p};t(e),S({type:"success",message:"Created task ".concat(m,".")}),i(!0),O()}},block:!0},"Create Task")),r.a.createElement(h.a,{xs:{span:6}},r.a.createElement(x.a,{variant:"light",onClick:O,block:!0},"Reset")))),c&&function(){var e=y.message,t=y.type;return setTimeout((function(){i(!1)}),3e3),r.a.createElement(C.a,{className:"mt-2 mb-2",variant:t},e)}()))})),K=a(139),P=a(102),M=function(e){var t=e.running;return e.completed?r.a.createElement("div",{className:"task-item-status"},r.a.createElement(P.a,{variant:"primary"},"Completed")):r.a.createElement("div",{className:"task-item-status"},t?r.a.createElement(P.a,{variant:"success"},"Running"):r.a.createElement(P.a,{variant:"warning"},"Paused"))};M.defaultProps={running:!1,completed:!1};var _=M,R=a(195),B=a(29),J=a(194),H=Object(c.b)(null,{startTask:function(e){return{type:"START_TASK",payload:e}},pauseTask:function(e){return{type:"PAUSE_TASK",payload:e}},removeTask:function(e){return{type:"REMOVE_TASK",payload:Number(e)}},completeTask:function(e){return{type:"COMPLETE_TASK",payload:e}}})((function(e){var t=e.taskId,a=e.startTask,n=e.pauseTask,l=e.removeTask,s=e.completeTask;return r.a.createElement("div",{className:"task-list-item-control"},r.a.createElement(J.a,null,r.a.createElement(R.a,{size:"sm",className:"ml-auto",title:"Task Actions"},r.a.createElement(B.a.Item,{onClick:function(){return a(t)}},"Start task"),r.a.createElement(B.a.Item,{onClick:function(){return n(t)}},"Pause task"),r.a.createElement(B.a.Item,{onClick:function(){return s(t)}},"Mark task completed"),r.a.createElement(B.a.Divider,null),r.a.createElement(B.a.Item,{onClick:function(){return l(t)}},"Delete task"))))})),F=a(37),G=a.n(F);function z(e){var t,a=0;return a=Math.floor(e/60),t=e%60,{hours:Math.floor(a/60),minutes:a%=60,seconds:t}}var U=function(e){var t=0;if(0!==e.length){var a=null;if(1===e.length){var n=G()(),r=G()(e[0].when);t=n.diff(r,"seconds")}else{for(var l=e[0],s=1;s<e.length;s+=1)if("paused"===(a=e[s]).status){var c=G()(l.when);t+=G()(a.when).diff(c,"seconds")}else l=a;if(a&&"started"===a.status)t+=G()(new Date).diff(G()(l.when),"seconds")}}return t},V=function(e){return e<10?"0".concat(e):e.toString()},W=function(e){var t=z(e.durationInSeconds),a=t.hours,n=t.minutes,l=t.seconds;return r.a.createElement("div",{className:"task-item-duration"},r.a.createElement("span",{className:"duration"},V(a),":",V(n),":",V(l)))};W.defaultProps={durationInSeconds:0};var Y=W,q=function(e){var t=e.task,a=e.showDetails,l=Object(n.useState)(0),s=Object(N.a)(l,2),c=s[0],i=s[1],u=Object(n.useState)(null),o=Object(N.a)(u,2),m=o[0],d=o[1];return Object(n.useEffect)((function(){var e=U(t.timerStatusArray);i(e)}),[]),Object(n.useEffect)((function(){if(t.running)return d(setInterval((function(){i((function(e){return i(e+1)}))}),1e3)),function(){clearInterval(m)}}),[]),r.a.createElement("div",{className:"task-list-item"},r.a.createElement("span",{className:"task-item-name text-truncate",onClick:function(){return a(t)}},t.taskName),r.a.createElement(Y,{durationInSeconds:c}),r.a.createElement(_,{running:t.running,completed:t.completed}),r.a.createElement(H,{taskId:t.id}))},Q=a(199),X=function(e){return e<10?"0".concat(e):"".concat(e)},Z=function(e){var t=e.task,a=e.dismiss,n=t.timerStatusArray,l=z(U(n)),s="".concat(X(l.hours),":").concat(X(l.minutes),":").concat(X(l.seconds)),c=n.map((function(e){var t="started"===e.status?r.a.createElement("span",{className:"text-success"},"Started"):r.a.createElement("span",{className:"text-danger"},"Paused");return r.a.createElement("tr",null,r.a.createElement("td",null,G()(e.when).calendar()),r.a.createElement("td",null,t))})),i=!(0===t.timerStatusArray.length);return r.a.createElement("div",{className:"task-details-dialog"},r.a.createElement("h2",{className:"task-details-title"},t.taskName),r.a.createElement("div",{className:"task-details-table-container"},r.a.createElement(Q.a,{responsive:!0,striped:!0,bordered:!0,className:"task-details-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"When"),r.a.createElement("td",null,"Action"))),r.a.createElement("tbody",null,c))),i?r.a.createElement("h2",null,"Total Time: ",s):r.a.createElement("h2",null,"This task has not been started yet"),t.completed&&r.a.createElement("h2",null,"This task was completed."),r.a.createElement(x.a,{variant:"outline-primary",size:"lg",onClick:function(){return a()}},"Close"))},$=function(e){var t=e.tasks,a=e.title,l=Object(n.useState)(!1),s=Object(N.a)(l,2),c=s[0],i=s[1],u=Object(n.useState)(null),o=Object(N.a)(u,2),m=o[0],d=o[1],E=function(e){c||(i(!0),d(e))};return r.a.createElement("div",{className:"task-list-container"},r.a.createElement("h2",{className:"task-list-title"},a),r.a.createElement("div",{className:"task-list"},0===t.length?r.a.createElement("h2",null,"No tasks to display."):r.a.createElement(K.a,null,t.map((function(e){return r.a.createElement(K.a.Item,{key:e.id},r.a.createElement(q,{task:e,showDetails:E}))})))),c&&r.a.createElement(Z,{task:m,dismiss:function(){return i(!1)}}))};$.defaultProps={title:"Tasks"};var ee=$,te=Object(c.b)((function(e){return{taskList:e.tasks.taskList}}))((function(e){var t=e.taskList;return r.a.createElement(T.a,{fluid:!0},r.a.createElement("div",{className:"page-header"},r.a.createElement("h2",{className:"display-3"},"My Tasks")),r.a.createElement(b.a,null,r.a.createElement(ee,{title:"Running Tasks",tasks:t.filter((function(e){return e.running}))})),r.a.createElement(b.a,null,r.a.createElement(ee,{title:"Paused Tasks",tasks:t.filter((function(e){return!e.running&&!e.completed}))})),r.a.createElement(b.a,null,r.a.createElement(ee,{title:"Completed Tasks",tasks:t.filter((function(e){return e.completed}))})))})),ae=a(53),ne=a(47),re=function(e){var t=e.data,a=e.title,n=e.xKey,l=e.xTitle,s=e.yKey,c=e.yTitle;return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},a),r.a.createElement(ne.d,{width:"100%",height:300},r.a.createElement(ne.b,{data:t,margin:{top:0,right:0,left:0,bottom:50}},r.a.createElement(ne.f,{dataKey:n},r.a.createElement(ne.c,{value:l,offset:-10,position:"insideBottom"})),r.a.createElement(ne.g,{label:{value:c,angle:-90,position:"insideLeft"}}),r.a.createElement(ne.e,null),r.a.createElement(ne.a,{dataKey:s,fill:"lightsteelblue"}))))},le={totalTimeByDay:function(e){for(var t={},a=e.timerStatusArray,n=1;n<a.length;n+=2){var r=new Date(a[n-1].when),l=r.toLocaleDateString(),s=new Date(a[n].when),c=s.toLocaleDateString();if(l===c){var i=(s.getTime()-r.getTime())/1e3;t[l]=i+(t[l]||0)}else{var u=new Date(r.valueOf());u.setHours(24,0,0,0);var o=(u.getTime()-r.getTime())/1e3;t[l]=o+(t[l]||0);var m=new Date(s.valueOf());m.setHours(0,0,0,0);var d=(s.getTime()-m.getTime())/1e3;for(t[c]=d+(t[c]||0);u.getTime()<m.getTime();)t[u.toLocaleDateString()]=86400+(t[u.toLocaleDateString()]||0),u.setHours(24)}}return t},totalTime:function(e){for(var t=0,a=e.timerStatusArray,n=1;n<a.length;n+=2){var r=new Date(a[n-1].when).getTime();t+=(new Date(a[n].when).getTime()-r)/1e3}return t}},se={getDailyTotals:function(e){var t=e.reduce((function(e,t){var a=le.totalTimeByDay(t);return Object.keys(a).forEach((function(t){e[t]=a[t]+(e[t]||0)})),e}),{});return Object.keys(t).map((function(e){return{date:e,minutes:Math.round(t[e]/60)}})).sort((function(e,t){return new Date(t.date)-new Date(e.date)}))},getTaskTotals:function(e){return e?e.map((function(e){return{taskName:e.taskName,minutes:Math.round(le.totalTime(e)/60)}})):[]}},ce=Object(c.b)((function(e){return{taskList:e.tasks.taskList}}))((function(e){var t=e.taskList,a=t.reduce((function(e,t){return e+le.totalTime(t)}),0)/60,n=a<60?"".concat(a.toFixed(1)," minutes"):"".concat((a/60).toFixed(1)," hours");return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"right"}},n," tracked total"),r.a.createElement(ae.a,{className:"text-center mt-3"},r.a.createElement(ae.a.Body,null,r.a.createElement(ae.a.Title,null,"Daily Tracked Time")," ",r.a.createElement(re,{data:se.getDailyTotals(t),title:"",xKey:"date",xTitle:"date",yKey:"minutes",yTitle:"Minutes"}))),r.a.createElement(ae.a,{className:"text-center  mt-3"},r.a.createElement(ae.a.Body,null,r.a.createElement(ae.a.Title,null,"Task Totals"),r.a.createElement(re,{data:se.getTaskTotals(t),title:"",xKey:"taskName",xTitle:"Task",yKey:"minutes",yTitle:"Minutes"}))))})),ie=Object(c.b)(null,{deleteAllTasks:function(){return{type:"DELETE_ALL_TASKS"}}})((function(e){var t=e.deleteAllTasks,a=Object(n.useState)(!1),l=Object(N.a)(a,2),s=l[0],c=l[1];return r.a.createElement(T.a,null,r.a.createElement("div",{className:"page-header"},r.a.createElement("h2",{className:"display-3"},"Settings")),s?r.a.createElement(O.a,{to:"/mytasks"}):r.a.createElement(b.a,null,r.a.createElement(h.a,{span:{xs:12}},r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Delete All Tasks?"),r.a.createElement("p",null,"This cannot be undone."),r.a.createElement(x.a,{variant:"danger",onClick:function(){t(),c(!0)}},"Delete All Tasks")))))}));var ue=function(){return r.a.createElement("main",null,r.a.createElement(S.a,null,r.a.createElement(D,null),r.a.createElement(T.a,{fluid:!0},r.a.createElement(b.a,null,r.a.createElement(h.a,{xs:{span:12}},r.a.createElement(j,null,r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/",component:I}),r.a.createElement(O.b,{exact:!0,path:"/reports",component:ce}),r.a.createElement(O.b,{exact:!0,path:"/mytasks",component:te}),r.a.createElement(O.b,{exact:!0,path:"/settings",component:ie}))))))))};s.a.render(r.a.createElement(c.a,{store:y},r.a.createElement(ue,null)),document.getElementById("root"))}},[[234,1,2]]]);
//# sourceMappingURL=main.a9683151.chunk.js.map